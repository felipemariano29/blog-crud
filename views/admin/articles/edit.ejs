<%- include ("../../partials/header.ejs") %>
<body>
  <%- include ("../../partials/navbar.ejs") %>

  <div class="container">
    <div class="card mt-5">
      <div class="card-header">
        <h2>Editar artigo</h2>
      </div>

      <div class="card-body">
        <form method="POST" action="/articles/update" class="text-center">
          <input type="hidden" name="id" value="<%- article.id %>" />

          <input
            type="text"
            name="title"
            id="title"
            value="<%- article.title %>"
            class="form-control mb-3"
          />

          <textarea name="body" id="article" class="form-control mb-3">
<%= article.body %></textarea
          >

          <select name="category" id="category" class="form-control mt-3">
            <option value="">Selecione uma categoria</option>

            <% categories.forEach((category) => { %> <% if (category.id ===
            article.categoryId) { %>

            <option value="<%- category.id %>" selected>
              <%- category.title %>
            </option>
            <% } else { %>
            <option value="<%- category.id %>"><%- category.title %></option>

            <% } %> <% }); %>
          </select>

          <button class="btn btn-primary mt-3 w-25">Editar</button>
        </form>
      </div>
    </div>
  </div>
</body>

<%- include ("../../partials/footer.ejs") %>

<script src="/tinymce/tinymce.min.js"></script>
<script>
  tinymce.init({
    selector: "#article",
    plugins: [
      "advlist",
      "autolink",
      "lists",
      "link",
      "image",
      "preview",
      "searchreplace",
      "wordcount",
      "fullscreen",
      "insertdatetime",
      "media",
      "save",
      "table",
      "code",
      "emoticons",
    ],
  });
</script>
